# å‰ç«¯ç»„ä»¶æµ‹è¯•æ–‡æ¡£

## ğŸ“Š æµ‹è¯•æ¦‚è§ˆ

### æµ‹è¯•ç»Ÿè®¡
- **æ€»æµ‹è¯•ç”¨ä¾‹**: 77ä¸ª
- **é€šè¿‡æµ‹è¯•**: 73ä¸ª (94.8%)
- **å¤±è´¥æµ‹è¯•**: 4ä¸ª (5.2%)
- **æµ‹è¯•å¥—ä»¶**: 5ä¸ª

### ç»„ä»¶è¦†ç›–ç‡
| ç»„ä»¶ | æµ‹è¯•ç”¨ä¾‹æ•° | è¦†ç›–ç‡ | çŠ¶æ€ |
|------|-----------|--------|------|
| LoginButton | 21 | 100% | âœ… å®Œæˆ |
| DashboardStats | 15 | 100% | âœ… å®Œæˆ |
| ImageUpload | 19 | 95%+ | âœ… å®Œæˆ |
| FrameSelector | 18 | 100% | âœ… å®Œæˆ |
| PricingCard | 4 | åŸºç¡€è¦†ç›– | âš ï¸ éœ€ä¿®å¤ |

## ğŸ§ª æµ‹è¯•æ¶æ„

### æŠ€æœ¯æ ˆ
- **æµ‹è¯•æ¡†æ¶**: Jest
- **Reactæµ‹è¯•**: React Testing Library
- **ç”¨æˆ·äº¤äº’**: @testing-library/user-event
- **æ¨¡æ‹Ÿ**: Jest mocks

### ç›®å½•ç»“æ„
```
tests/
â””â”€â”€ unit/
    â””â”€â”€ components/
        â”œâ”€â”€ auth/
        â”‚   â””â”€â”€ LoginButton.test.tsx
        â”œâ”€â”€ dashboard/
        â”‚   â””â”€â”€ DashboardStats.test.tsx
        â”œâ”€â”€ upload/
        â”‚   â””â”€â”€ ImageUpload.test.tsx
        â”œâ”€â”€ try-on/
        â”‚   â””â”€â”€ FrameSelector.test.tsx
        â””â”€â”€ pricing/
            â””â”€â”€ PricingCard.test.tsx
```

## ğŸ“‹ æµ‹è¯•è¯¦æƒ…

### 1. LoginButton ç»„ä»¶æµ‹è¯• âœ…
**æµ‹è¯•åœºæ™¯**:
- åŠ è½½çŠ¶æ€æ˜¾ç¤º
- æœªè®¤è¯çŠ¶æ€ - ç™»å½•æŒ‰é’®
- å·²è®¤è¯çŠ¶æ€ - ç”¨æˆ·ä¿¡æ¯å’Œç™»å‡º
- ä¸åŒå˜ä½“æ ·å¼ (default, outline, ghost)
- ç”¨æˆ·å¤´åƒæ˜¾ç¤ºé€»è¾‘
- æ— éšœç¢æ€§æµ‹è¯•

**å…³é”®æµ‹è¯•**:
- æ¨¡æ‹Ÿ next-auth/react
- æµ‹è¯• signIn/signOut è°ƒç”¨
- æ ·å¼ç±»éªŒè¯
- ç”¨æˆ·äº¤äº’æµ‹è¯•

### 2. DashboardStats ç»„ä»¶æµ‹è¯• âœ…
**æµ‹è¯•åœºæ™¯**:
- å…è´¹ç”¨æˆ·ç»Ÿè®¡æ˜¾ç¤º
- é«˜çº§ç”¨æˆ·ç»Ÿè®¡æ˜¾ç¤º
- è¾¹ç•Œæƒ…å†µå¤„ç† (é›¶å€¼ã€å¤§æ•°å€¼)
- å¸ƒå±€å’Œæ ·å¼éªŒè¯
- å›¾æ ‡å’Œé¢œè‰²æ­£ç¡®æ€§

**å…³é”®æµ‹è¯•**:
- æ¡ä»¶æ¸²æŸ“é€»è¾‘
- æ•°æ®æ ¼å¼åŒ–
- å“åº”å¼å¸ƒå±€
- è§†è§‰å…ƒç´ éªŒè¯

### 3. ImageUpload ç»„ä»¶æµ‹è¯• âœ…
**æµ‹è¯•åœºæ™¯**:
- åˆå§‹æ¸²æŸ“å’Œå±æ€§
- ç‚¹å‡»æ–‡ä»¶é€‰æ‹©
- æ‹–æ‹½ä¸Šä¼ åŠŸèƒ½
- æ–‡ä»¶éªŒè¯å’Œå¤„ç†
- é”™è¯¯å¤„ç†
- åŠ è½½çŠ¶æ€
- å½“å‰å›¾ç‰‡æ˜¾ç¤ºå’Œç§»é™¤

**å…³é”®æµ‹è¯•**:
- æ–‡ä»¶è¾“å…¥äº¤äº’
- æ‹–æ‹½äº‹ä»¶å¤„ç†
- å¼‚æ­¥æ–‡ä»¶å¤„ç†
- é”™è¯¯è¾¹ç•Œæµ‹è¯•
- ç”¨æˆ·åé¦ˆéªŒè¯

### 4. FrameSelector ç»„ä»¶æµ‹è¯• âœ…
**æµ‹è¯•åœºæ™¯**:
- åŠ è½½çŠ¶æ€
- APIæ•°æ®è·å–å’Œæ˜¾ç¤º
- æ¡†æ¶é€‰æ‹©åŠŸèƒ½
- åˆ†ç±»ç­›é€‰
- ç¦ç”¨çŠ¶æ€
- é”™è¯¯å¤„ç†å’Œé‡è¯•
- ç©ºçŠ¶æ€å¤„ç†

**å…³é”®æµ‹è¯•**:
- å¼‚æ­¥æ•°æ®åŠ è½½
- ç”¨æˆ·äº¤äº’å“åº”
- çŠ¶æ€ç®¡ç†
- é”™è¯¯æ¢å¤æœºåˆ¶
- æ¡ä»¶æ¸²æŸ“

### 5. PricingCard ç»„ä»¶æµ‹è¯• âš ï¸
**æµ‹è¯•åœºæ™¯**:
- åŸºç¡€ä¿¡æ¯æ¸²æŸ“
- æ”¯ä»˜æµç¨‹å¯åŠ¨
- å½“å‰å¥—é¤çŠ¶æ€
- ä¸åŒå¥—é¤ç±»å‹

**å·²çŸ¥é—®é¢˜**:
- window.location æ¨¡æ‹Ÿé—®é¢˜
- éœ€è¦ä¿®å¤ JSDOM å…¼å®¹æ€§

## ğŸ”§ æµ‹è¯•é…ç½®

### Jest é…ç½® (jest.config.js)
```javascript
module.exports = {
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: ['<rootDir>/tests/setup.ts'],
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
  },
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
  ],
  coverageThreshold: {
    global: {
      branches: 70,
      functions: 70,
      lines: 70,
      statements: 70,
    },
  },
}
```

### æµ‹è¯•è®¾ç½® (tests/setup.ts)
- React Testing Library é…ç½®
- Jest DOM åŒ¹é…å™¨
- å…¨å±€æ¨¡æ‹Ÿè®¾ç½®

## ğŸš€ è¿è¡Œæµ‹è¯•

### å‘½ä»¤
```bash
# è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç›‘è§†æ¨¡å¼è¿è¡Œæµ‹è¯•
npm run test:watch

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
npx jest tests/unit/components/auth/LoginButton.test.tsx
```

### è¦†ç›–ç‡æŠ¥å‘Š
æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šç”Ÿæˆåœ¨ `coverage/` ç›®å½•ä¸­ï¼ŒåŒ…å«ï¼š
- HTML æŠ¥å‘Š (`coverage/lcov-report/index.html`)
- LCOV æ•°æ® (`coverage/lcov.info`)
- JSON æŠ¥å‘Š (`coverage/coverage-final.json`)

## ğŸ› å·²çŸ¥é—®é¢˜å’Œä¿®å¤è®¡åˆ’

### å½“å‰é—®é¢˜
1. **PricingCard æµ‹è¯•**: window.location æ¨¡æ‹Ÿé—®é¢˜
2. **FrameSelector æµ‹è¯•**: 3ä¸ªæµ‹è¯•ç”¨ä¾‹éœ€è¦ä¿®å¤é€‰æ‹©å™¨é€»è¾‘
3. **ImageUpload æµ‹è¯•**: 1ä¸ªäº‹ä»¶ä¼ æ’­æµ‹è¯•éœ€è¦è°ƒæ•´

### ä¿®å¤ä¼˜å…ˆçº§
1. **é«˜ä¼˜å…ˆçº§**: ä¿®å¤ PricingCard çš„ location æ¨¡æ‹Ÿ
2. **ä¸­ä¼˜å…ˆçº§**: ä¼˜åŒ– FrameSelector çš„å…ƒç´ é€‰æ‹©å™¨
3. **ä½ä¼˜å…ˆçº§**: è°ƒæ•´ ImageUpload çš„äº‹ä»¶å¤„ç†æµ‹è¯•

## ğŸ“ˆ æµ‹è¯•æœ€ä½³å®è·µ

### å·²å®æ–½çš„æœ€ä½³å®è·µ
1. **AAA æ¨¡å¼**: Arrange-Act-Assert
2. **ç”¨æˆ·ä¸­å¿ƒæµ‹è¯•**: ä½¿ç”¨ React Testing Library
3. **æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–**: APIã€è®¤è¯ã€å›¾æ ‡ç­‰
4. **è¾¹ç•Œæƒ…å†µæµ‹è¯•**: é”™è¯¯çŠ¶æ€ã€ç©ºæ•°æ®ã€åŠ è½½çŠ¶æ€
5. **æ— éšœç¢æ€§æµ‹è¯•**: è¯­ä¹‰åŒ–å…ƒç´ ã€ARIA å±æ€§

### æµ‹è¯•åŸåˆ™
- æµ‹è¯•ç”¨æˆ·è¡Œä¸ºï¼Œä¸æ˜¯å®ç°ç»†èŠ‚
- ä¼˜å…ˆæµ‹è¯•å…³é”®ç”¨æˆ·è·¯å¾„
- ä¿æŒæµ‹è¯•ç®€å•å’Œå¯ç»´æŠ¤
- ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°
- æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–ï¼Œéš”ç¦»ç»„ä»¶æµ‹è¯•

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸç›®æ ‡
1. ä¿®å¤ç°æœ‰4ä¸ªå¤±è´¥æµ‹è¯•
2. æé«˜æ•´ä½“ä»£ç è¦†ç›–ç‡åˆ°80%+
3. æ·»åŠ æ›´å¤šè¾¹ç•Œæƒ…å†µæµ‹è¯•

### é•¿æœŸç›®æ ‡
1. é›†æˆæµ‹è¯• (E2E with Playwright)
2. è§†è§‰å›å½’æµ‹è¯•
3. æ€§èƒ½æµ‹è¯•
4. å¯è®¿é—®æ€§è‡ªåŠ¨åŒ–æµ‹è¯•

## ğŸ“š å‚è€ƒèµ„æº

- [React Testing Library æ–‡æ¡£](https://testing-library.com/docs/react-testing-library/intro/)
- [Jest æ–‡æ¡£](https://jestjs.io/docs/getting-started)
- [Testing Best Practices](https://kentcdodds.com/blog/common-mistakes-with-react-testing-library)
